# 使用方法

## 1、加载模型并设置

转到 “设置” ，第一部分就是模型设置。

- GPU 层数：输入 -1 使所有层均卸载到 GPU，输入 0 使用纯 CPU，或输入 >0 的值使用 CPU 和 GPU 混合推理
- 选择模型：程序会检测 `models` 文件夹里的 `gguf` 文件，并列在这里
- 模型代数：通常会自动更新，无需管理

第二部分是生成设置。  
咱只关注前两个和最后一个设置，会动剩下两个设置的大概不需要看这个教程。

- 上下文长度：这个值决定了模型能够处理多长的 HTML 文件，后续会说明判断输入是否过长的方法。但是，这个值越高，消耗的 VRAM/RAM 越多。修改这个值需要重新加载模型才能生效。
- 最大新分配 Token 数量：决定模型能说多少话，修改这个值不需要重新加载模型。
- 移除最外层的代码块：V2 模型的习惯，会用代码块包裹转换结果。在复制时决定是否移除代码块，渲染时必定移除代码块。

第三部分是 HTML 设置。  
这里只关注第一个设置。

- 清理 HTML：预先清理掉一些大概率没用的东西（比如 CSS 和脚本），缩短 HTML 长度。

## 2、开始转换

转到 “生成” ，可以看到左右两栏。  
先从左栏开始。

左栏主要是输入和预览 HTML， 你可以使用两种输入，URL 或者 HTML 文件。前者的优先级更高，也就是说，同时有 URL 和文件的情况下，文件会被忽略。  
输入你的 URL 后，需要提交才能开始获取 HTML。而输入文件会立刻读取 HTML。
获得了 HTML 后，会在文件输入框的下方渲染 HTML 的预览，这个预览通常比较安全，不会让页面炸掉，不像 HTML 标签页的渲染功能。
然后，如果 HTML 的内容更新了，程序会自动计算 Token 数量，如果数量太多，则会有对应的警告。虽然会一并给出预清理后的预计数量，但这并不准确，根据清理设置的不同，结果也不同。

右栏比较简单，主要是生成按钮、复制按钮和停止按钮，一看就会的那种。
值得注意的是，如果模型在吃提示词而没有吐字，点击停止按钮并不会终止吃提示词的过程。
